<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Mobile Learning</title>
 
  <link rel="stylesheet" href="../assets/css/bootstrap.css"> 
 
   
</head>
<body>
  
  <div class="container-fluid">

   <h3> Daftar pertanyaan</h3>
  
  
	<div class="row">
   
	<button id="myButton" type="button" class="btn btn-info" data-toggle="modal" data-target="#AddModal">Add</button>
       
	    <table class="table table-striped table-hover" id="mytable" >
	      <thead>
	        <tr>          
	          <th>ID</th> 
	          <th>Pertanyaan</th>
	          <th>Tanggal Pembuatan</th>  
	          {{#if is_admin}}
	            <th>Action</th>
	          {{/if}}   
	          
	        </tr>
	      </thead>
	      <tbody id="bodytable">
	         {{#each data}}          
	        <tr>
	          <td>{{id}}</td>    
	          <td>{{name}}</td>  
	          <td>{{create_date}}</td>
	          
	          <td>  
	            <a href="javascript:void(0);" class="btn btn-sm btn-info edit" data-id="{{id}}" 
	            data-name="{{name}}" data-code="{{code}}" data-parent_id="{{parent_id}} data-toggle="modal" data-target="#EditModal"">Edit</a>
	            <a href="javascript:void(0);" class="btn btn-sm btn-danger delete" data-id="{{id}}" data-name="{{name}}" >Delete</a> 
	          </td>
	          
	        </tr>
	        {{/each}}
	      </tbody>
	    </table>
	</div>


	<form action="/add_question" method="post">
       <div class="modal fade" id="AddModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Form Pertanyaan {{data.exam_id}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">              

              <div class="form-group">
                  <input type="text" name="questionName" value="{{exam_id}}" class="form-control name" placeholder="Pertanyaan" required>
              </div> 
           

            </div>
            <div class="modal-footer">
              <input type="hidden" name="exam_id" value="{{data.exam_id}}" class="exam_id">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </div>
        </div>
       </div>
  </form>

	<form action="/profile/update" method="post">
       <div class="modal fade" id="EditModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Edit Profile</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group" style="display: none;">
                  <input type="text" name="id" class="form-control code" placeholder="Code" required>
              </div>

              <div class="form-group">
                  <input type="text" name="fullname" class="form-control name" placeholder="Name" required>
              </div>
 
              <div class="form-group">
                  <input type="text" name="phone" class="form-control phone" placeholder="Phone" required>
              </div>

              <div class="form-group">
                  <input type="text" name="email" class="form-control email" placeholder="Email" required>
              </div>

              <div class="form-group">
                  <input type="text" name="address" class="form-control address" placeholder="Address" required>
              </div>

            </div>
            <div class="modal-footer">
              <input type="hidden" name="id" class="id">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Update</button>
            </div>
          </div>
        </div>
       </div>
  </form>
 
  	<div class="row" style="padding-bottom: 40px">
  		<div class="col-sm-2">
  			Total Page : <b id="totalPage">{{total_page}}</b>	 
  		</div>
  		<div class="col-sm-2">
  			
  		</div>
  		<div class="col-sm-6">
  			<ul id="pagination" class="pagination"/> 
  		</div>
  	</div>
    
    
  </div>
 
  
<script src="/assets/js/jquery-1.10.2.js"></script>    
<script src="/assets/js/bootstrap.js"></script> 
<script src="/assets/js/jquery-ui.js"></script>
 
<script >
    $(document).ready(function(){
      $("#profileId").hide()

            //tampilkan data ke modal untuk edit
      $('#myButton').on('click',function(){
        console.log("clik edit...")
        var profileId = $("#profileId").text();
        var fullname = $("#fullname").text();
        var email = $("#email").text();
        var address = $("#address").text(); 
        var phone = $("#phone").text(); 
        $('.name').val(fullname);
        $('.email').val(email);
        $('.address').val(address);
        $('.phone').val(phone);
        $('.code').val(profileId); 
      });

    });

</script>

</body>
</html>
